<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, follow" />
    <meta name="google-site-verification" content="lwyGMjMCHXSuJXWOc3iy1MG_Hd6yRBARF5H8NuMxUPg" />

    <title>Quản lý việc làm ứng tuyển</title>
    <link rel="icon" href="/images/img/icon_head.png">
    <link rel="canonical" href="http://localhost:9020<%= url %>">
    <link rel="preload" href="/css/uv/manaprofile_uv.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="/css/uv/manaprofile_uv.css">
    </noscript>

    <link rel="preload" href="/css/common.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="/css/common.css">
    </noscript>

    <link rel="preload" href="/css/leftnav_uv.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="/css/leftnav_uv.css">
    </noscript>
    <link rel="preload" href="/css/header_uv.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="/css/header_uv.css">
    </noscript>

    <link rel="preload" href="/css/footer.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="/css/footer.css">
    </noscript>
    <link rel="preload" href="/css/custom_select2.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" href="/css/select2.min.css">
    <noscript>
        <link rel="stylesheet" href="/css/custom_select2.css">
    </noscript>
    <script src="/js/jquery.min.js"></script>

</head>

<body>
    <div class="cnt">
        <div class="cnt-left" id="leftNav">
            <%- include('../layouts/leftnav_uv', {}); %>
        </div>
        <div class="cnt-right" id="rightContent">
            <%- include('../layouts/header_uv', {}); %>
                <div class="cnt-body d-flex flex-dr-c">
                    <div class="cnt-supp bg-white d-flex justify-b fw-600 gap-2">
                        <img class="rounded-circle cnt-supp-avar" src="/images/img/cskh_image.jpg" width="114px"
                            height="114px" alt="Customer Service Image">
                        <div class="cnt-supp-name">
                            <span>Chuyên viên hỗ trợ:</span>
                            <span class="color-main"> Mrs. Nguyễn Hồng</span>
                        </div>
                        <div class="cnt-supp-phone">
                            <span>SĐT - Zalo:</span>
                            <span class="color-main"> 0972319116</span>
                        </div>
                        <div class="cnt-supp-mail">
                            <span>Email:</span>
                            <span class="color-alert"> nguyenhongg2609@gmail.com</span>
                        </div>
                    </div>
                    <div class="profile-list d-flex align-c">
                        <div class="btn-pre">
                            <img src="/images/icon/profile_left.svg">
                        </div>
                        <div class="profile-filter">
                            <div class="profile-item active" tab-for="contact_box">
                                <div class="item-avar">
                                    <img width="50" height="50" src="/images/icon/Project.svg" alt="Contact Info">
                                </div>
                                <div class="item-title">
                                    Thông tin liên hệ
                                </div>
                            </div>
                            <div class="profile-item" tab-for="job_box">
                                <div class="item-avar">
                                    <img width="50" height="50" src="/images/icon/Work.svg" alt="Contact Info">
                                </div>
                                <div class="item-title">
                                    Công việc mong muốn
                                </div>
                            </div>
                            <div class="profile-item" tab-for="target_box">
                                <div class="item-avar">
                                    <img width="50" height="50" src="/images/icon/Target.svg" alt="Contact Info">
                                </div>
                                <div class="item-title">
                                    Mục tiêu nghề nghiệp
                                </div>
                            </div>
                            <div class="profile-item" tab-for="skill_box">
                                <div class="item-avar">
                                    <img width="50" height="50" src="/images/icon/Pencil.svg" alt="Contact Info">
                                </div>
                                <div class="item-title">
                                    Kỹ năng bản thân
                                </div>
                            </div>
                            <div class="profile-item" tab-for="edu_box">
                                <div class="item-avar">
                                    <img width="50" height="50" src="/images/icon/Certificate.svg" alt="Contact Info">
                                </div>
                                <div class="item-title">
                                    Bằng cấp
                                </div>
                            </div>
                            <div class="profile-item" tab-for="langue_box">
                                <div class="item-avar">
                                    <img width="50" height="50" src="/images/icon/Language.svg" alt="Contact Info">
                                </div>
                                <div class="item-title">
                                    Ngôn ngữ
                                </div>
                            </div>
                            <div class="profile-item" tab-for="exp_box">
                                <div class="item-avar">
                                    <img width="50" height="50" src="/images/icon/Experience.svg" alt="Contact Info">
                                </div>
                                <div class="item-title">
                                    Kinh nghiệm làm việc
                                </div>
                            </div>
                            <div class="profile-item" tab-for="reper_box">
                                <div class="item-avar">
                                    <img width="50" height="50" src="/images/icon/Change.svg" alt="Contact Info">
                                </div>
                                <div class="item-title">
                                    Người tham chiếu
                                </div>
                            </div>
                        </div>
                        <div class="btn-next">
                            <img src="/images/icon/profile_right.svg">
                        </div>
                    </div>
                    <div class="profile-box">
                        <form id="form_contact_infor">
                            <div class="profile-contact nav_box active" id="contact_box">
                                <div class="profile-title">
                                    THÔNG TIN LIÊN HỆ
                                </div>
                                <div class="profile-cnt">
                                    <div class="profile-top d-flex justify-b align-c">
                                        <div class="profile-avar">
                                            <img width="190" height="190" alt="Avar Ứng viên"
                                                src="/images/img/default_logo.jpg" id="avatar_id"
                                                onerror="this.onerror=null;this.src='/images/img/default_logo.jpg';">
                                            <div class="update_logo">
                                                <img src="/images/icon/img_uploadlogo.svg" class="upload_usc_logo"
                                                    width="44" height="44" alt="Update Logo">
                                            </div>
                                            <input id="use-avar" type="file" accept=".png, .jpg, .jpeg, .gif, .webp" />
                                        </div>
                                        <div class="profile-info">
                                            <div class="info-item">
                                                <div class="info-label">
                                                    <label for="use_name_id">
                                                        Họ và tên
                                                    </label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="info-input">
                                                    <input id="use_name_id" name="use_name_id" type="text"
                                                        placeholder="Nhập họ và tên">
                                                </div>
                                            </div>
                                            <div class="info-item">
                                                <div class="info-label">
                                                    <label for="use_phonectc_id">
                                                        Số điện thoại
                                                    </label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="info-input">
                                                    <input id="use_phonectc_id" name="use_phonectc_id" type="number"
                                                        placeholder="Nhập số điện thoại">
                                                </div>
                                            </div>
                                            <div class="info-item">
                                                <div class="info-label">
                                                    <label for="use_emailctc_id">
                                                        Email
                                                    </label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="info-input">
                                                    <input type="email" id="use_emailctc_id" name="use_emailctc_id"
                                                        placeholder="Nhập email">
                                                </div>
                                            </div>
                                            <div class="info-item">
                                                <div class="info-label">
                                                    <label for="birthday_id">
                                                        Ngày sinh
                                                    </label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="info-input">
                                                    <input type="date" id="birthday_id" name="birthday_id">
                                                </div>
                                            </div>
                                            <div class="info-item">
                                                <div class="info-label">
                                                    <label>Giới tính</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="info-input radio_input">
                                                    <div class="radio-choice d-flex flex-wr">
                                                        <div class="radio-select">
                                                            <input type="radio" id="male" name="gender" value="1">
                                                            <label class="fw-500" for="male">Nam</label><br>
                                                        </div>
                                                        <div class="radio-select">
                                                            <input type="radio" id="female" name="gender" value="2">
                                                            <label class="fw-500" for="female">Nữ</label><br>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="info-item">
                                                <div class="info-label">
                                                    <label>Tình trạng hôn nhân</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="info-input radio_input">
                                                    <div class="radio-choice d-flex flex-wr">
                                                        <div class="radio-select">
                                                            <input type="radio" id="single" name="marrie" value="1">
                                                            <label class="fw-500" for="single">Độc thân</label>
                                                        </div>
                                                        <div class="radio-select">
                                                            <input type="radio" id="married" name="marrie" value="2">
                                                            <label class="fw-500" for="married">Đã kết hôn</label>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="profile-location">
                                        <div class="profile-loc-half">
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Tỉnh thành</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <select id="city_loc" name="city_loc">
                                                        <option value=""></option>
                                                        <% for (let i=0; i < listCities.length; i++) { %>
                                                            <option value="<%= listCities[i].cit_id %>">
                                                                <%= listCities[i].cit_name %>
                                                            </option>
                                                            <% } %>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Quận/huyện</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <select id="disc_loc" name="disc_loc">
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="profile-loc-item">
                                            <div class="profile-loc-label">
                                                <label for="address_id">Địa chỉ</label>
                                                <span class="color-alert">*</span>
                                            </div>
                                            <div class="profile-loc-form">
                                                <input type="text" id="address_id" name="address_id"
                                                    placeholder="Nhập địa chỉ">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="profile-act">
                                    <div class="d-flex justify-c">
                                        <button id="update_contact" class="update-btn">
                                            CẬP NHẬT
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <form id="form_desired_job">
                            <div class="profile-job nav_box" id="job_box">
                                <div class="profile-title">
                                    CÔNG VIỆC MONG MUỐN
                                </div>
                                <div class="profile-cnt">
                                    <div class="cnt-list">
                                        <div class="cnt-item cnt-item-half">
                                            <div class="cnt-item-label">
                                                <label>Công việc</label>
                                                <span class="color-alert fw-600">(Chỉnh sửa trong cv)</span>
                                            </div>
                                            <div class="cnt-item-form">
                                                <input class="cnt-item-text" id="desired_job" disabled
                                                    name="desired_job" type="text"
                                                    placeholder="Nhập tên công việc mong muốn">
                                            </div>
                                        </div>
                                        <div class="cnt-item cnt-item-half">
                                            <div class="cnt-item-label">
                                                <label>Hình thức làm việc</label>
                                                <span class="color-alert fw-600">*</span>
                                            </div>
                                            <div class="cnt-item-form">
                                                <select id="tpwork_id" name="tpwork_id">
                                                    <option></option>
                                                    <% if (listTypeWork && listTypeWork.length> 0) { %>
                                                        <% listTypeWork.forEach(function(item, index) { %>
                                                            <% for (const key in item) { %>
                                                                <option value="<%= key %>">
                                                                    <%= item[key] %>
                                                                </option>
                                                                <% } %>
                                                                    <% }); %>
                                                                        <% } %>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="cnt-item cnt-item-half">
                                            <div class="cnt-item-label">
                                                <label>Cấp bậc mong muốn</label>
                                                <span class="color-alert fw-600">*</span>
                                            </div>
                                            <div class="cnt-item-form">
                                                <select id="lvwork_id" name="lvwork_id">
                                                    <option></option>
                                                    <% if (levelList && levelList.length> 0) { %>
                                                        <% levelList.forEach(function(item, index) { %>
                                                            <% for (const key in item) { %>
                                                                <option value="<%= key %>">
                                                                    <%= item[key] %>
                                                                </option>
                                                                <% } %>
                                                                    <% }); %>
                                                                        <% } %>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="cnt-item cnt-item-half">
                                            <div class="cnt-item-label">
                                                <label>Kinh nghiệm làm việc</label>
                                                <span class="color-alert fw-600">*</span>
                                            </div>
                                            <div class="cnt-item-form">
                                                <select id="expwork_id" name="expwork_id">
                                                    <option></option>
                                                    <% if (listSizeExp && listSizeExp.length> 0) { %>
                                                        <% listSizeExp.forEach(function(item, index) { %>
                                                            <% for (const key in item) { %>
                                                                <option value="<%= key %>">
                                                                    <%= item[key] %>
                                                                </option>
                                                                <% } %>
                                                                    <% }); %>
                                                                        <% } %>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="cnt-item cnt-item-half">
                                            <div class="cnt-item-label">
                                                <label>Địa điểm làm việc</label>
                                                <span class="color-alert fw-600">*</span>
                                            </div>
                                            <div class="cnt-item-form">
                                                <select id="citwork_id" multiple="multiple" name="citwork_id">
                                                    <option></option>
                                                    <% if (listCities && listCities.length> 0) { %>
                                                        <% listCities.forEach(function(item) { %>
                                                            <option value="<%= item.cit_id %>">
                                                                <%= item.cit_name %>
                                                            </option>
                                                            <% }); %>
                                                                <% } %>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="cnt-item cnt-item-half">
                                            <div class="cnt-item-label">
                                                <label>Ngành nghề mong muốn</label>
                                                <span class="color-alert fw-600">*</span>
                                            </div>
                                            <div class="cnt-item-form">
                                                <select id="catwork_id" multiple="multiple" name="catwork_id">
                                                    <option></option>
                                                    <% if (cateList && cateList.length> 0) { %>
                                                        <% cateList.forEach(function(item) { %>
                                                            <option value="<%= item.cat_id %>">
                                                                <%= item.cat_name %>
                                                            </option>
                                                            <% }); %>
                                                                <% } %>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="cnt-item">
                                            <div class="cnt-item-label">
                                                <label>Mức lương</label>
                                                <span class="color-alert fw-600">*</span>
                                            </div>
                                            <div class="cnt-item-form">
                                                <select id="salawork_id" name="salawork_id">
                                                    <option></option>
                                                    <% if (listRangeMoney && listRangeMoney.length> 0) { %>
                                                        <% listRangeMoney.forEach(function(item,index) { %>
                                                            <% for (const key in item) { %>
                                                                <option value="<%= key %>">
                                                                    <%= item[key] %>
                                                                </option>
                                                                <% } %>
                                                                    <% }); %>
                                                                        <% } %>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="profile-act">
                                    <div class="d-flex justify-c">
                                        <button id="update_job" class="update-btn">
                                            CẬP NHẬT
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <form id="form_carrer_objectives">
                            <div class="profile-target nav_box" id="target_box">
                                <div class="profile-title">
                                    MỤC TIÊU NGHỀ NGHIỆP
                                </div>
                                <div class="profile-cnt">
                                    <div class="cnt-item-label">
                                        <label>Mô tả ngắn mục tiêu của bản thân</label>
                                        <span class="color-alert fw-600">*</span>
                                    </div>
                                    <div class="cnt-item-form">
                                        <textarea class="txarea-target" id="target_job" name="target_job"
                                            placeholder="Viết mô tả ngắn mục tiêu của bản thân"></textarea>
                                    </div>
                                </div>
                                <div class="profile-act">
                                    <div class="d-flex justify-c">
                                        <button id="update_target" class="update-btn">
                                            CẬP NHẬT
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <form id="form_skill">
                            <div class="profile-skill nav_box" id="skill_box">
                                <div class="profile-title">
                                    KỸ NĂNG BẢN THÂN
                                </div>
                                <div class="profile-cnt">
                                    <div class="cnt-item-label">
                                        <label>Mô tả ngắn kỹ năng của bản thân</label>
                                        <span class="color-alert fw-600">*</span>
                                    </div>
                                    <div class="cnt-item-form">
                                        <textarea class="txarea-target" id="skill_job" name="skill_job"
                                            placeholder="Viết mô tả ngắn kỹ năng của bản thân"></textarea>
                                    </div>
                                </div>
                                <div class="profile-act">
                                    <div class="d-flex justify-c">
                                        <button id="update_skill" class="update-btn">
                                            CẬP NHẬT
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <form id="form_qualifi">
                            <div class="profile-edu nav_box" id="edu_box">
                                <div class="profile-title">
                                    BẰNG CẤP
                                </div>
                                <div class="profile-cnt">
                                    <div class="cnt-form-degree">
                                        <div class="cnt-list mb-4">
                                            <input type="hidden" id="typedegree">
                                            <input type="hidden" id="iddegree">
                                            <div class="cnt-item cnt-item-half">
                                                <div class="cnt-item-label">
                                                    <label>Bằng cấp chứng chỉ</label>
                                                    <span class="color-alert fw-600">*</span>
                                                </div>
                                                <div class="cnt-item-form">
                                                    <input class="cnt-item-text" id="degree_name" name="degree_name"
                                                        type="text" placeholder="Nhập tên bằng">
                                                </div>
                                            </div>
                                            <div class="cnt-item cnt-item-half">
                                                <div class="cnt-item-label">
                                                    <label>Tên trường, đơn vị giảng dạy</label>
                                                    <span class="color-alert fw-600">*</span>
                                                </div>
                                                <div class="cnt-item-form">
                                                    <input class="cnt-item-text" id="degree_school" name="degree_school"
                                                        type="text" placeholder="Nhập tên trường, đơn vị giảng dạy">
                                                </div>
                                            </div>
                                            <div class="cnt-item cnt-item-half">
                                                <div class="cnt-item-label">
                                                    <label>Thời gian bắt đầu</label>
                                                    <span class="color-alert fw-600">*</span>
                                                </div>
                                                <div class="cnt-item-form">
                                                    <input class="cnt-item-text" id="degree_start" name="degree_start"
                                                        type="date" placeholder="Thời gian bắt đầu">
                                                </div>
                                            </div>
                                            <div class="cnt-item cnt-item-half">
                                                <div class="cnt-item-label">
                                                    <label>Thời gian kết thúc</label>
                                                    <span class="color-alert fw-600">*</span>
                                                </div>
                                                <div class="cnt-item-form">
                                                    <input class="cnt-item-text" id="degree_end" name="degree_end"
                                                        type="date" placeholder="Thời gian kết thúc">
                                                </div>
                                            </div>
                                            <div class="cnt-item cnt-item-half">
                                                <div class="cnt-item-label">
                                                    <label>Chuyên ngành</label>
                                                    <span class="color-alert fw-600">*</span>
                                                </div>
                                                <div class="cnt-item-form">
                                                    <input class="cnt-item-text" id="degree_major" name="degree_major"
                                                        type="text" placeholder="Nhập tên chuyên ngành">
                                                </div>
                                            </div>
                                            <div class="cnt-item cnt-item-half">
                                                <div class="cnt-item-label">
                                                    <label>Xếp loại</label>
                                                    <span class="color-alert fw-600">*</span>
                                                </div>
                                                <div class="cnt-item-form">
                                                    <select id="degree_cfc" name="degree_cfc">
                                                        <option></option>
                                                        <option value="1">Yếu</option>
                                                        <option value="2">Trung Bình</option>
                                                        <option value="3">Khá</option>
                                                        <option value="4">Giỏi</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="cnt-item">
                                                <div class="cnt-item-label">
                                                    <label>Thông tin bổ sung</label>
                                                    <!-- <span class="color-alert fw-600">*</span> -->
                                                </div>
                                                <div class="cnt-item-form">
                                                    <textarea class="txarea-target" id="degree_more" name="degree_more"
                                                        placeholder="Điền thông tin bổ sung"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-c">
                                            <span
                                                class="cnt-remove-degree cnt-remove-btn fw-600 color-alert d-flex align-c gap-1"><img
                                                    src="/images/icon/remove_red.svg" width="20" height="20"
                                                    alt="cancel">Hủy</span>
                                        </div>
                                    </div>
                                    <div class="cnt-act d-flex align-c gap-2 justify-b mb-4">
                                        <div class="create-degree create-new-btn color-main fw-600 d-flex align-c">
                                            <img src="/images/icon/create_plus.svg">Thêm bằng cấp
                                        </div>
                                        <button class="update-btn" id="update-degree">
                                            CẬP NHẬT
                                        </button>
                                    </div>
                                    <div class="cnt-degree">

                                    </div>

                                </div>
                            </div>
                        </form>
                        <form id="form_lang">
                            <div class="profile-lang nav_box" id="langue_box">
                                <div class="profile-title">
                                    NGÔN NGỮ - TIN HỌC
                                </div>
                                <div class="profile-cnt">
                                    <div class="cnt-form-lang">
                                        <input type="hidden" id="type_langue">
                                        <input type="hidden" id="id_langue">
                                        <div class="profile-loc-athird">
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Ngôn ngữ</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <select id="langue_type" name="langue_type">
                                                        <option></option>
                                                        <option value="1">Tiếng Anh</option>
                                                        <option value="2">Tiếng Pháp</option>
                                                        <option value="3">Tiếng Nga</option>
                                                        <option value="4">Tiếng Hàn</option>
                                                        <option value="5">Tiếng Trung</option>
                                                        <option value="6">Tiếng Nhật</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Chứng chỉ</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="text" id="langue_name" name="langue_name"
                                                        placeholder="Nhập tên chứng chỉ của bạn">
                                                </div>
                                            </div>
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Kết quả</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="text" id="langue_result" name="langue_result"
                                                        placeholder="Nhập kết quả">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-c">
                                            <span
                                                class="cnt-remove-langue cnt-remove-btn fw-600 color-alert d-flex align-c gap-1"><img
                                                    src="/images/icon/remove_red.svg" width="20" height="20"
                                                    alt="cancel">Hủy</span>
                                        </div>
                                    </div>
                                    <div class="cnt-act d-flex align-c gap-2 justify-b mb-4">
                                        <div class="create-langue create-new-btn color-main fw-600 d-flex align-c">
                                            <img src="/images/icon/create_plus.svg">Thêm ngôn ngữ
                                        </div>
                                        <button class="update-btn" id="update-langue">
                                            CẬP NHẬT
                                        </button>
                                    </div>
                                    <div class="cnt-langue">

                                    </div>

                                </div>
                            </div>
                        </form>
                        <form id="work_exp">
                            <div class="profile-lang nav_box" id="exp_box">
                                <div class="profile-title">
                                    KINH NGHIỆM LÀM VIỆC
                                </div>
                                <div class="profile-cnt">
                                    <div class="cnt-form-exp">
                                        <input type="hidden" id="type_exp">
                                        <input type="hidden" id="id_exp">
                                        <div class="profile-loc-half">
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Chức danh / Vị trí</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="text" id="exp_titpos" name="exp_titpos"
                                                        placeholder="Nhập chức danh / vị trí">
                                                </div>
                                            </div>
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Công ty</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="text" id="exp_comp" name="exp_comp"
                                                        placeholder="Nhập tên công ty">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="profile-loc-half">
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Thời gian bắt đầu</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="date" id="exp_from" name="exp_from">
                                                </div>
                                            </div>
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Thời gian kết thúc</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="date" id="exp_to" name="exp_to">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="profile-loc-item">
                                            <div class="profile-loc-label">
                                                <label for="exp_des">Mô tả công việc</label>
                                                <span class="color-alert">*</span>
                                            </div>
                                            <div class="profile-loc-form">
                                                <input type="text" id="exp_des" name="exp_des"
                                                    placeholder="Ghi ngắn gọn mô tả công việc">
                                            </div>
                                        </div>
                                        <div class="d-flex justify-c">
                                            <span
                                                class="cnt-remove-exp cnt-remove-btn fw-600 color-alert d-flex align-c gap-1"><img
                                                    src="/images/icon/remove_red.svg" width="20" height="20"
                                                    alt="cancel">Hủy</span>
                                        </div>
                                    </div>
                                    <div class="cnt-act d-flex align-c gap-2 justify-b mb-4">
                                        <div class="create-exp create-new-btn color-main fw-600 d-flex align-c">
                                            <img src="/images/icon/create_plus.svg">Thêm kinh nghiệm làm việc
                                        </div>
                                        <button class="update-btn" id="update-exp">
                                            CẬP NHẬT
                                        </button>
                                    </div>
                                    <div class="cnt-exp">

                                    </div>
                                </div>
                            </div>
                        </form>
                        <form id="form_refer">
                            <div class="profile-lang nav_box" id="reper_box">
                                <div class="profile-title">
                                    NGƯỜI THAM CHIẾU
                                </div>
                                <div class="profile-cnt">
                                    <div class="cnt-form-reper">
                                        <input type="hidden" id="type_reper">
                                        <input type="hidden" id="id_reper">
                                        <div class="profile-loc-half">
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Tên người tham chiếu</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="text" id="reper_name" name="reper_name"
                                                        placeholder="Nhập tên người tham chiếu">
                                                </div>
                                            </div>
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Email</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="email" id="reper_email" name="reper_email"
                                                        placeholder="Nhập email">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="profile-loc-half">
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Chức danh</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="text" id="reper_typos" name="reper_typos"
                                                        placeholder="Nhập chức danh">
                                                </div>
                                            </div>
                                            <div class="profile-loc-item">
                                                <div class="profile-loc-label">
                                                    <label>Số điện thoại</label>
                                                    <span class="color-alert">*</span>
                                                </div>
                                                <div class="profile-loc-form">
                                                    <input type="number" id="reper_phone" name="reper_phone"
                                                        placeholder="Nhập só điện thoại">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="profile-loc-item">
                                            <div class="profile-loc-label">
                                                <label for="exp_des">Tên công ty</label>
                                                <span class="color-alert">*</span>
                                            </div>
                                            <div class="profile-loc-form">
                                                <input type="text" id="reper_comp" name="reper_comp"
                                                    placeholder="Nhập tên công ty">
                                            </div>
                                        </div>
                                        <div class="d-flex justify-c">
                                            <span
                                                class="cnt-remove-reper cnt-remove-btn fw-600 color-alert d-flex align-c gap-1"><img
                                                    src="/images/icon/remove_red.svg" width="20" height="20"
                                                    alt="cancel">Hủy</span>
                                        </div>
                                    </div>
                                    <div class="cnt-act d-flex align-c gap-2 justify-b mb-4">
                                        <div class="create-reper create-new-btn color-main fw-600 d-flex align-c">
                                            <img src="/images/icon/create_plus.svg">Thêm người tham chiếu
                                        </div>
                                        <button class="update-btn" id="update-reper">
                                            CẬP NHẬT
                                        </button>
                                    </div>
                                    <div class="cnt-reper">

                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
        </div>
    </div>
    <%- include('../layouts/footer', {}); %>
        <script src="/js/custom_select.js"></script>
        <script src="/js/select2.min.js"></script>
        <script src="/js/jquery.validate.min.js"></script>

        <script>
            $('#city_loc').select2({
                placeholder: 'Chọn tỉnh thành',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: false
            });
            $('#disc_loc').select2({
                placeholder: 'Chọn quận/huyện',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: false
            });
            $('#degree_cfc').select2({
                placeholder: 'Chọn xếp loại',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: false
            });
            $('#city_loc').change(function () {
                var id = parseInt($(this).val());
                $.ajax({
                    url: '/api/getDistrict',
                    method: 'POST',
                    data: { id: id },
                    success: function (response) {
                        if (response.district.length > 0) {
                            $('#disc_loc').empty();
                            response.district.forEach(function (city) {
                                $('#disc_loc').append('<option value="' + city.cit_id + '">' + city.cit_name + '</option>');
                            });

                            $('#disc_loc').trigger('update');
                            if (typeof window.preExistingDistrictId !== 'undefined') {
                                $('#disc_loc').val(window.preExistingDistrictId);
                                $('#disc_loc').trigger('update');
                            }
                        }
                    },
                    error: function (err) {
                        console.error('Error:', err);
                    }
                });
            });

            $("#tpwork_id").select2({
                placeholder: 'Chọn hình thức làm việc',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: false
            });
            $("#lvwork_id").select2({
                placeholder: 'Chọn cấp bậc mong muốn',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: false
            });
            $('#expwork_id').select2({
                placeholder: 'Chọn kinh nghiệm làm việc',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: false
            });
            $('#citwork_id').select2({
                placeholder: 'Chọn tối đa 3 tỉnh thành mong muốn',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: true,
                maximumSelectionLength: 3
            });
            $('#catwork_id').select2({
                placeholder: 'Chọn tối đa 3 ngành nghề mong muốn',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: true,
                maximumSelectionLength: 3
            });
            $('#salawork_id').select2({
                placeholder: 'Chọn mức lương',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: false
            });
            $('#langue_type').select2({
                placeholder: 'Chọn ngôn ngữ',
                // searchPlaceholder: 'Tìm kiếm...',
                multiple: false
            });
        </script>
        <script>
            $(document).ready(function () {
                const $leftNav = $('.lnav');
                const $rightContent = $('#rightContent');
                const $mobileMenu = $('#mobileMenu');
                updateLayout();
                function updateLayout() {
                    const rightContentHeight = $rightContent.outerHeight(true);
                    const leftNavHeight = $leftNav.outerHeight(true);
                    const leftNavWidth = $leftNav.outerWidth(true);
                    console.log(rightContentHeight);
                    console.log(leftNavHeight);
                    if (leftNavHeight > rightContentHeight) {
                        $leftNav.css({ position: '' });
                        $rightContent.css({ 'margin-left': leftNavWidth });
                        $('html, body').animate({ scrollTop: 0 });
                        $(window).off('scroll');
                    } else {
                        $(window).on('scroll', function () {
                            const rightContentHeight = $rightContent.outerHeight(true);
                            const rightContentOffsetTop = $rightContent.offset().top;
                            const rightContentBottom = rightContentOffsetTop + rightContentHeight;
                            const scrollTop = $(window).scrollTop();
                            const windowHeight = $(window).height();

                            if (scrollTop + leftNavHeight > rightContentBottom) {
                                $leftNav.css({ position: 'absolute', top: (rightContentHeight - leftNavHeight) + 'px' });
                            } else {
                                $leftNav.css({ position: 'fixed', top: '0' });
                            }
                            $rightContent.css({ 'margin-left': '' });
                        });
                    }
                }

                $('.uhead-rig-togm, .menu-mb-close').click(function () {
                    $mobileMenu.slideToggle(300);
                    updateLayout();
                });

                function getCookie(name) {
                    const value = `; ${document.cookie}`;
                    const parts = value.split(`; ${name}=`);
                    if (parts.length === 2) return parts.pop().split(';').shift();
                }



            });
            $(document).ready(function () {
                const scrollAmount = 100;

                $('.btn-pre').on('click', function () {
                    $('.profile-filter').animate({ scrollLeft: '-=' + scrollAmount }, 300);
                });

                $('.btn-next').on('click', function () {
                    $('.profile-filter').animate({ scrollLeft: '+=' + scrollAmount }, 300);
                });
            });
        </script>
        <script>
            $(document).ready(function () {
                function getUrlParameter(name) {
                    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
                    var results = regex.exec(location.search);
                    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
                }

                function setActiveTab(tabFor) {
                    $('.profile-item').removeClass('active');
                    $('.nav_box').removeClass('active');

                    $('.profile-item[tab-for="' + tabFor + '"]').addClass('active');
                    $('#' + tabFor).addClass('active');
                }

                // Click event for profile-item
                $('.profile-item').click(function () {
                    var tabFor = $(this).attr('tab-for');

                    var newUrl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?type=' + tabFor;
                    window.history.pushState({ path: newUrl }, '', newUrl);

                    setActiveTab(tabFor);
                });

                var initialTab = getUrlParameter('type');
                if (initialTab) {
                    setActiveTab(initialTab);
                } else {
                    // Optionally set a default tab to be active if no parameter is found
                    $('.profile-item:first').click();
                }
            });

        </script>
        <script>
            var datadegree;
            var datalangue;
            var dataexp;
            var datarefer;
            $(document).ready(function () {
                getAccountDetail();
                function convertTimestampToDate(timestamp) {
                    const date = new Date(timestamp * 1000);
                    return `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;
                }
                function convertTimeToInput(timestamp) {
                    let date = new Date(timestamp * 1000);
                    let year = date.getFullYear();
                    let month = (date.getMonth() + 1).toString().padStart(2, '0');
                    let day = date.getDate().toString().padStart(2, '0');
                    return `${year}-${month}-${day}`;
                }
                function getclassification(value) {
                    switch (value) {
                        case 1:
                            return "Yếu";
                            break;
                        case 2:
                            return "Trung Bình";
                            break;
                        case 3:
                            return "Khá";
                            break;
                        case 4:
                            return "GIỏi";
                            break;
                        default:
                            return "Yếu";
                    }
                }
                function getLangue(value) {
                    switch (value) {
                        case 0:
                            return "Chưa cập nhật";
                            break;
                        case 1:
                            return "Tiếng Anh";
                            break;
                        case 2:
                            return "Tiếng Pháp";
                            break;
                        case 3:
                            return "Tiếng Nga";
                            break;
                        case 4:
                            return "Tiếng Hàn";
                            break;
                        case 5:
                            return "Tiếng Trung";
                            break;
                        case 6:
                            return "Tiếng Nhật";
                            break;
                        default:
                            return "Chưa cập nhật";
                    }
                }
                function getCookie(name) {
                    const value = `; ${document.cookie}`;
                    const parts = value.split(`; ${name}=`);
                    if (parts.length === 2) return parts.pop().split(';').shift();
                }
                function setDateInputFromTimestamp(timestamp, inputId) {
                    var date = new Date(timestamp * 1000);
                    var year = date.getFullYear();
                    var month = ("0" + (date.getMonth() + 1)).slice(-2);
                    var day = ("0" + date.getDate()).slice(-2);

                    var formattedDate = `${year}-${month}-${day}`;

                    return formattedDate;
                }
                function getAccountDetail() {
                    $.ajax({
                        url: "http://localhost:3050/api/topcv1s/user/getAccountDetail",
                        type: "POST",
                        headers: {
                            "Authorization": "Bearer " + getCookie('accessToken')
                        },
                        contentType: "application/json",
                        success: function (response) {
                            if (response.data.result === true) {
                                infoUV = response.data.data;
                                datadegree = response.data.datadegree;
                                datalangue = response.data.datalangue;
                                dataexp = response.data.dataexp;
                                degree = response.data.datadegree;
                                datarefer = response.data.datarefer;
                                $('#use_name_id').val(infoUV.name);
                                $('#use_phonectc_id').val(infoUV.use_phone_contact);
                                $('#use_emailctc_id').val(infoUV.use_email_contact);
                                if (infoUV.birthday > 0) {
                                    $('#birthday_id').val(setDateInputFromTimestamp(infoUV.birthday));
                                }
                                $('#city_loc').val(infoUV.use_city);
                                $("#city_loc").trigger('change');
                                $('#disc_loc').val(infoUV.use_district);
                                window.preExistingDistrictId = infoUV.use_district;
                                $('#address_id').val(infoUV.address);
                                var gender = infoUV.gender;
                                if (gender) {
                                    if (gender === 1) {
                                        $('input[name="gender"][value="1"]').prop('checked', true);
                                    } else if (gender === 2) {
                                        $('input[name="gender"][value="2"]').prop('checked', true);
                                    }
                                }
                                var lg_honnhan = infoUV.lg_honnhan;
                                if (lg_honnhan) {
                                    if (lg_honnhan === 1) {
                                        $('input[name="marrie"][value="1"]').prop('checked', true);
                                    } else if (lg_honnhan === 2) {
                                        $('input[name="marrie"][value="2"]').prop('checked', true);
                                    }
                                }
                                let avatar = infoUV.avatar;
                                console.log(avatar);
                                if (avatar) {
                                    var img = new Image();
                                    img.onload = function () {
                                        $("#avatar_id").attr("src", avatar);
                                    };
                                    img.src = avatar;
                                }
                            }
                            // box 2
                            $("#desired_job").val(infoUV.use_job_name)

                            infoUV.work_option ? $('#tpwork_id').val(infoUV.work_option) : '';
                            $("#tpwork_id").trigger('change');

                            infoUV.cap_bac_mong_muon ? $('#lvwork_id').val(infoUV.cap_bac_mong_muon) : '';
                            $("#lvwork_id").trigger('change');

                            infoUV.exp_years ? $('#expwork_id').val(infoUV.exp_years) : '';
                            $("#expwork_id").trigger('change');

                            infoUV.salary ? $('#salawork_id').val(infoUV.salary) : '';
                            $("#salawork_id").trigger('change');

                            if (infoUV.use_city_job.length > 0) {
                                removeSelectedValuesById("citwork_id");
                                infoUV.use_city_job.forEach(function (cityJob) {
                                    $('#citwork_id option[value="' + cityJob.id + '"]').prop('selected', true);
                                    $("#citwork_id").trigger('change');
                                    $('#citwork_id').trigger('update');
                                });
                            }
                            if (infoUV.use_nganh_nghe.length > 0) {
                                removeSelectedValuesById("catwork_id");
                                infoUV.use_nganh_nghe.forEach(function (catJob) {
                                    console.log(catJob.id);
                                    $('#catwork_id option[value="' + catJob.id + '"]').prop('selected', true);
                                    $("#catwork_id").trigger('change');
                                    $('#catwork_id').trigger('update');
                                });
                            }

                            infoUV.muc_tieu_nghe_nghiep ? $('#target_job').val(infoUV.muc_tieu_nghe_nghiep) : '';
                            infoUV.ki_nang_ban_than ? $('#skill_job').val(infoUV.ki_nang_ban_than) : '';

                            if (degree.length > 0) {
                                $('.cnt-degree').empty();
                                degree.forEach(function (data) {
                                    var additionalInfo = data.thongtin_bosung ? data.thongtin_bosung.replace(/\n/g, "<br>") : "Chưa cập nhật";
                                    var html = `
                                <div class="list-degree">
                                    <div class="left-degree">
                                        <div class="item-degree mb-2">
                                            <span class="fw-700 color-main fs-5">${data.bang_cap}</span>
                                        </div>
                                        <div class="item-degree mb-2">
                                            <span class="fw-700">Đơn vị giảng dạy: </span><span class="color-main">${data.truong_hoc ? data.truong_hoc : "Chưa cập nhật"}</span>
                                        </div>
                                        <div class="item-degree mb-2">
                                            <span class="fw-700">Từ: </span><span class="degree-from color-main">${data.tg_batdau && data.tg_batdau != 0 ? convertTimestampToDate(data.tg_batdau) : "Chưa cập nhật"}</span> - <span class="degree-to color-main">${data.tg_ketthuc && data.tg_ketthuc != 0 ? convertTimestampToDate(data.tg_ketthuc) : "Chưa cập nhật"}</span>
                                        </div>
                                        <div class="item-degree mb-2">
                                            <span class="fw-700">Chuyên ngành: </span> <span class="color-main">${data.chuyen_nganh ? data.chuyen_nganh : "Chưa cập nhật"}</span>
                                        </div>
                                        <div class="item-degree mb-2">
                                            <span class="fw-700">Xếp loại: </span class="color-main"><span class="color-main">${data.xep_loai ? getclassification(data.xep_loai) : "Chưa cập nhật"}</span>
                                        </div>
                                        <div class="item-degree">
                                            <span class="fw-700">Thông tin bổ sung:</span>
                                            <div class="color-main">${additionalInfo}</div>
                                        </div>
                                    </div>
                                    <div class="right-degree">
                                        <div class="act-btn edit-degree color-main fw-700 mb-3 d-flex align-c gap-2" data-edit ="${data.id_hocvan}">
                                            <img src="/images/icon/change_main.svg" alt="Edit Icon" width="20" height="20">
                                            Sửa
                                        </div>
                                        <div class="act-btn rm-degree color-alert fw-700 mb-3 d-flex align-c gap-2" data-delete ="${data.id_hocvan}">
                                            <img src="/images/icon/delete_red.svg" alt="remove Icon" width="20" height="20">
                                            Xóa
                                        </div>
                                    </div>
                                </div>`;
                                    $('.cnt-degree').append(html);
                                });
                            } else {
                                $('.cnt-degree').empty();
                            }
                            if (datalangue.length > 0) {
                                $('.cnt-langue').empty();
                                datalangue.forEach(function (data) {
                                    var html = `
                                <div class="list-langue">
                                    <div class="left-langue">
                                        <div class="item-langue mb-2">
                                            <span class="fw-700 color-main fs-5">${data.chung_chi ? data.chung_chi : ''}</span>
                                        </div>
                                        <div class="item-langue mb-2">
                                            <span class="fw-700">Ngôn ngữ: </span><span class="color-main">${data.id_ngonngu ? getLangue(data.id_ngonngu) : ''}</span>
                                        </div>
                                        <div class="item-langue mb-2">
                                            <span class="fw-700">Kết quả: </span><span class="color-main">${data.ket_qua ? data.ket_qua : ''}</span>
                                        </div>
                                    </div>
                                    <div class="right-langue">
                                        <div class="act-btn edit-langue color-main fw-700 mb-3 d-flex align-c gap-2" data-edit ="${data.id_ngoaingu}">
                                            <img src="/images/icon/change_main.svg" alt="Edit Icon" width="20" height="20">
                                            Sửa
                                        </div>
                                        <div class="act-btn rm-langue color-alert fw-700 mb-3 d-flex align-c gap-2" data-delete ="${data.id_ngoaingu}">
                                            <img src="/images/icon/delete_red.svg" alt="remove Icon" width="20" height="20">
                                            Xóa
                                        </div>
                                    </div>
                                </div>`;
                                    $('.cnt-langue').append(html);
                                })
                            } else {
                                $('.cnt-langue').empty();
                            }

                            if (dataexp.length > 0) {
                                $('.cnt-exp').empty();
                                dataexp.forEach(function (data) {
                                    var html = `
                                <div class="list-exp">
                                    <div class="left-exp">
                                        <div class="item-exp mb-2">
                                            <span class="fw-700 color-main fs-5">${data.use_chucdanh ? data.use_chucdanh : ''}</span>
                                        </div>
                                        <div class="item-exp mb-2">
                                            <span class="fw-700">Công ty: </span><span class="color-main">${data.use_cty_lamviec ? data.use_cty_lamviec : 'Chưa cập nhật'}</span>
                                        </div>
                                        <div class="item-exp mb-2">
                                            <span class="fw-700">Từ: </span><span class="exp-from color-main">${data.tg_batdau && data.tg_batdau != 0 ? convertTimestampToDate(data.tg_batdau) : "Chưa cập nhật"}</span> - <span class="exp-to">${data.tg_ketthuc && data.tg_ketthuc != 0 ? convertTimestampToDate(data.tg_ketthuc) : "Chưa cập nhật"}</span>
                                        </div>
                                         <div class="item-exp mb-2">
                                            <span class="fw-700">Mô tả: </span><span class="color-main">${data.them_thongtin ? data.them_thongtin : 'Chưa cập nhật'}</span>
                                        </div>
                                    </div>
                                    <div class="right-exp">
                                        <div class="act-btn edit-exp color-main fw-700 mb-3 d-flex align-c gap-2" data-edit ="${data.id_kinhnghiem}">
                                            <img src="/images/icon/change_main.svg" alt="Edit Icon" width="20" height="20">
                                            Sửa
                                        </div>
                                        <div class="act-btn rm-exp color-alert fw-700 mb-3 d-flex align-c gap-2" data-delete ="${data.id_kinhnghiem}">
                                            <img src="/images/icon/delete_red.svg" alt="remove Icon" width="20" height="20">
                                            Xóa
                                        </div>
                                    </div>
                                </div>`;
                                    $('.cnt-exp').append(html);
                                })
                            } else {
                                $('.cnt-exp').empty();
                            }

                            if (datarefer.length > 0) {
                                $('.cnt-reper').empty();
                                datarefer.forEach(function (data) {
                                    var html = `
                                <div class="list-reper">
                                    <div class="left-reper">
                                        <div class="item-reper mb-2">
                                            <span class="fw-700">Người tham chiếu: </span><span class="color-main">${data.ho_ten ? data.ho_ten : 'Chưa cập nhật'}</span>
                                        </div>
                                        <div class="item-reper mb-2">
                                            <span class="fw-700">Công ty: </span><span class="color-main">${data.company ? data.company : 'Chưa cập nhật'}</span>
                                        </div>
                                        <div class="item-reper mb-2">
                                            <span class="fw-700">Chức vụ: </span><span class="color-main">${data.chuc_vu ? data.chuc_vu : 'Chưa cập nhật'}</span>
                                        </div>
                                        <div class="item-reper mb-2">
                                            <span class="fw-700">Số điện thoại: </span><span class="color-main">${data.sdt ? data.sdt : 'Chưa cập nhật'}</span>
                                        </div>
                                        <div class="item-reper mb-2">
                                            <span class="fw-700">Email: </span><span class="color-main">${data.email ? data.email : 'Chưa cập nhật'}</span>
                                        </div>
                                    </div>
                                    <div class="right-reper">
                                        <div class="act-btn edit-reper color-main fw-700 mb-3 d-flex align-c gap-2" data-edit ="${data.id_thamchieu}">
                                            <img src="/images/icon/change_main.svg" alt="Edit Icon" width="20" height="20">
                                            Sửa
                                        </div>
                                        <div class="act-btn rm-reper color-alert fw-700 mb-3 d-flex align-c gap-2" data-delete ="${data.id_thamchieu}">
                                            <img src="/images/icon/delete_red.svg" alt="remove Icon" width="20" height="20">
                                            Xóa
                                        </div>
                                    </div>
                                </div>`;
                                    $('.cnt-reper').append(html);
                                })
                            } else {
                                $('.cnt-reper').empty();
                            }

                            //cookie
                            if (infoUV.phone) {
                                document.cookie = `use_phone_tk=${infoUV.phone}; max-age=${60 * 24 * 60 * 60}; path=/`;
                            }
                            if (infoUV.name) {
                                $('.lnav-cand-name').text(infoUV.name);
                            }
                            if (infoUV.Token) {
                                document.cookie = `accessToken=${infoUV.Token}; max-age=${60 * 24 * 60 * 60}; path=/`;
                            }
                            if (infoUV.auth) {
                                document.cookie = `auth=${infoUV.auth}; max-age=${60 * 24 * 60 * 60}; path=/`;
                            }
                            // if(infoUV.avatar && $('.lnav-cand-logo').attr("src") != infoUV.avatar){
                            //     document.cookie = `use_logo=${infoUV.avatar}; max-age=${60 * 24 * 60 * 60}; path=/`;
                            //     $('.lnav-cand-logo').attr("src",infoUV.avatar);
                            // }
                            if (infoUV.name) {
                                document.cookie = `userName=${infoUV.name}; max-age=${60 * 24 * 60 * 60}; path=/`;
                            }

                        },
                        error: function (xhr, status, error) {
                            console.error("Error:", error);
                        },
                    });
                }

                $('.update_logo').click(function () {
                    $("#use-avar").click();
                })
                function validateField(value, selector, message, compareWithZero, isArray = false) {
                    if (isArray) {
                        if (!Array.isArray(value) || value.length === 0) {
                            alert(message);
                            $(selector).trigger("focus");
                            return false;
                        }
                    } else {
                        if (!value || (compareWithZero && value == 0)) {
                            alert(message);
                            $(selector).trigger("focus");
                            return false;
                        }
                    }
                    return true;
                }
                $("#use-avar").change(function () {
                    var file = this.files[0];
                    if (file) {
                        var reader = new FileReader();
                        reader.onload = function (e) {
                            $("#avatar_id").attr("src", e.target.result);
                        }
                        reader.readAsDataURL(file);
                    }
                });
                $.validator.addMethod("validPhoneNumber", function (value, element) {
                    return this.optional(element) || /^(?:\+63|0|\+1)?([3|5|7|9][0-9]{8})$/.test(value);
                }, "Vui lòng nhập số điện thoại hợp lệ.");
                $.validator.addMethod("validEmail", function (value, element) {
                    return this.optional(element) || /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(value);
                }, "Vui lòng nhập địa chỉ email hợp lệ.");
                $.validator.addMethod("greaterThan", function (value, element, param) {
                    var startDate = new Date($(param).val()).getTime();
                    var endDate = new Date(value).getTime();
                    console.log(startDate)
                    console.log(endDate)
                    return startDate < endDate;
                }, "Thời gian bắt đầu phải nhỏ hơn thời gian kết thúc.");
                $('#form_contact_infor').validate({
                    rules: {
                        use_name_id: {
                            required: true,
                        },
                        use_phonectc_id: {
                            required: true,
                            validPhoneNumber: true
                        },
                        birthday_id: {
                            required: true
                        },
                        address_id: {
                            required: true
                        },
                        city_loc: {
                            required: true
                        },
                        disc_loc: {
                            required: true
                        },
                        use_emailctc_id: {
                            required: true,
                            validEmail: true
                        },
                        gender: {
                            required: true
                        },
                        marrie: {
                            required: true
                        }
                    },
                    messages: {
                        use_name_id: {
                            required: "Vui lòng nhập họ và tên"
                        },
                        birthday_id: {
                            required: "Vui lòng chọn ngày sinh"
                        },
                        address_id: {
                            required: "Vui lòng nhập địa chỉ"
                        },
                        city_loc: {
                            required: "Vui lòng chọn tỉnh thành"
                        },
                        disc_loc: {
                            required: "Vui lòng chọn quận huyện"
                        },
                        use_emailctc_id: {
                            required: "Vui lòng nhập địa chỉ email"
                        },
                        gender: {
                            required: "Vui lòng chọn giới tính"
                        },
                        marrie: {
                            required: "Vui lòng chọn tình trạng hôn nhân"
                        },
                        use_phonectc_id: {
                            required: "Vui lòng nhập số điện thoại",
                            validPhoneNumber: "Vui lòng nhập đúng định dạng số điện thoại"
                        }
                    },
                    errorPlacement: function (error, element) {
                        if (element.hasClass("select2-hidden-accessible")) {
                            error.insertAfter(element.next('.select2-container'));
                        }
                        else if (element.attr("name") == "gender" || element.attr("name") == "marrie") {
                            error.insertAfter(element.closest(".radio_input"));
                        }
                        else {
                            error.insertAfter(element);
                        }
                    },
                    submitHandler: function (form) {
                        var use_name = $('#use_name_id').val();
                        var use_phone = $('#use_phonectc_id').val();
                        var birthday = $('#birthday_id').val();
                        var gender = $('input[name="gender"]:checked').val();
                        var lg_honnhan = $('input[name="marrie"]:checked').val();
                        var address = $('#address_id').val();
                        var use_city = $('#city_loc').val();
                        var use_district = $('#disc_loc').val();
                        var use_email_contact = $('#use_emailctc_id').val();
                        var file = $("#use-avar")[0].files[0];
                        var formData = new FormData();
                        formData.append('use_name', use_name);
                        formData.append('use_phone', use_phone);
                        formData.append('birthday', birthday);
                        formData.append('gender', gender);
                        formData.append('lg_honnhan', lg_honnhan);
                        formData.append('address', address);
                        formData.append('use_city', use_city);
                        formData.append('use_district', use_district);
                        formData.append('use_email_contact', use_email_contact);
                        if (file) {
                            formData.append('avatar', file);
                        }

                        $.ajax({
                            url: URL_API_CANDI + "/CompleteProfileUV_TTCN",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Cập nhật thông tin thành công");
                                getAccountDetail();
                                window.location.reload()
                            },
                            error: function (xhr, status, error) {
                                alert('Failed to update information');
                                console.error("Error:", error);
                            },
                        });
                    }

                })

                $('#form_desired_job').validate({
                    rules: {
                        desired_job: {
                            required: true,
                        },
                        tpwork_id: {
                            required: true,
                        },
                        lvwork_id: {
                            required: true
                        },
                        expwork_id: {
                            required: true
                        },
                        citwork_id: {
                            required: true
                        },
                        catwork_id: {
                            required: true
                        },
                        salawork_id: {
                            required: true,
                        }
                    },
                    messages: {
                        desired_job: {
                            required: "Please enter your desired job"
                        },
                        tpwork_id: {
                            required: "Vui lòng chọn hình thức làm việc"
                        },
                        lvwork_id: {
                            required: "Vui lòng chọn cấp bậc mong muốn"
                        },
                        expwork_id: {
                            required: "Vui lòng chọn kinh nghiệm làm việc"
                        },
                        citwork_id: {
                            required: "Vui lòng chọn ít nhất 1 tỉnh thành làm việc"
                        },
                        catwork_id: {
                            required: "Vui lòng chọn ít nhất 1 ngành nghề"
                        },
                        salawork_id: {
                            required: "Vui lòng nhập mức lương mong muốn"
                        }
                    },
                    errorPlacement: function (error, element) {
                        if (element.hasClass("select2-hidden-accessible")) {
                            error.insertAfter(element.next('.select2-container'));
                        }
                        else if (element.attr("name") == "gender" || element.attr("name") == "marrie") {
                            error.insertAfter(element.closest(".radio_input"));
                        }
                        else {
                            error.insertAfter(element);
                        }
                    },
                    submitHandler: function (form) {
                        var jobName = $('#desired_job').val();
                        var workOption = $('#tpwork_id').val();
                        var levelDesired = $('#lvwork_id').val();
                        var experience = $('#expwork_id').val();
                        var jobCity = getSelectedValuesById('citwork_id');
                        var category = getSelectedValuesById('catwork_id');
                        var money = $('#salawork_id').val();

                        var formData = new FormData();
                        formData.append('jobName', jobName);
                        formData.append('workOption', workOption);
                        formData.append('levelDesired', levelDesired);
                        formData.append('experience', experience);
                        formData.append('jobCity', jobCity.join(','));
                        formData.append('category', category.join(','));
                        formData.append('money', money);
                        $.ajax({
                            url: URL_API_CANDI + "/CompleteProfileUV_CVMM",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Cập nhật thông tin thành công");
                                getAccountDetail();
                                window.location.reload()
                            },
                            error: function (xhr, status, error) {
                                alert('Failed to update information');
                                console.error("Error:", error);
                            },
                        });
                    }

                })

                $('#form_carrer_objectives').validate({
                    rules: {
                        target_job: { required: true }
                    },
                    messages: {
                        target_job: {
                            required: "Vui lòng nhập mục tiêu nghề nghiệp"
                        }
                    },
                    submitHandler: function (form) {
                        var target = $("#target_job").val();
                        var formData = new FormData();
                        formData.append('mtnn', target);
                        $.ajax({
                            url: URL_API_CANDI + "/CompleteProfileUV_MTNN",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Cập nhật thông tin thành công");
                                getAccountDetail();
                                window.location.reload();
                            },
                            error: function (xhr, status, error) {
                                alert('Failed to update information');
                                console.error("Error:", error);
                            },
                        });

                    }
                })

                $('#form_skill').validate({
                    rules: {
                        skill_job: { required: true }
                    },
                    messages: {
                        skill_job: {
                            required: "Vui lòng điền kĩ năng cá nhân"
                        }
                    },
                    submitHandler: function (form) {
                        var target = $("#skill_job").val();
                        var formData = new FormData();
                        formData.append('knbt', target);
                        $.ajax({
                            url: URL_API_CANDI + "/CompleteProfileUV_KNBT",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Cập nhật thông tin thành công");
                                getAccountDetail();
                                window.location.reload();
                            },
                            error: function (xhr, status, error) {
                                alert('Failed to update information');
                                console.error("Error:", error);
                            },
                        });
                    }
                })

                $('#form_qualifi').validate({
                    rules: {
                        degree_name: { required: true },
                        degree_school: { required: true },
                        degree_start: { required: true },
                        degree_end: { required: true, greaterThan: "#degree_start" },
                        degree_major: { required: true },
                        degree_cfc: { required: true },
                    },
                    messages: {
                        degree_name: {
                            required: "Vui lòng nhập chứng chỉ"
                        },
                        degree_school: {
                            required: "Vui lòng nhập tên trường, tổ chức"
                        },
                        degree_start: {
                            required: "Vui lòng chọn thời gian bắt đầu"
                        },
                        degree_end: {
                            required: "Vui lòng chọn thời gian kết thúc",
                            greaterThan: "Thời gian bắt đầu phải nhỏ hơn thời gian kết thúc"
                        },
                        degree_major: {
                            required: "Vui lòng nhập tên chứng chỉ"
                        },
                        degree_cfc: {
                            required: "Vui lòng chọn xếp loại"
                        },
                    },
                    errorPlacement: function (error, element) {
                        if (element.hasClass("select2-hidden-accessible")) {
                            error.insertAfter(element.next('.select2-container'));
                        }
                        else {
                            error.insertAfter(element);
                        }
                    },
                    submitHandler: function (form) {
                        var bccc = $('#degree_name').val();
                        var school_name = $('#degree_school').val();
                        var start_times = $('#degree_start').val();
                        var end_times = $('#degree_end').val();
                        var majors = $('#degree_major').val();
                        var ranks = $('#degree_cfc').val();
                        var hv_add_infor = $('#degree_more').val();
                        var type = $('#typedegree').val();
                        var formData = new FormData();
                        formData.append('bccc', bccc);
                        formData.append('school_name', school_name);
                        formData.append('start_times', start_times);
                        formData.append('end_times', end_times);
                        formData.append('majors', majors);
                        formData.append('ranks', ranks);
                        formData.append('type', type);
                        if (type == 2) {
                            formData.append('id_bc', $('#iddegree').val());
                        }
                        formData.append('hv_add_infor', hv_add_infor);
                        $.ajax({
                            url: URL_API_CANDI + "/CompleteProfileUV_BangCap",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Cập nhật thông tin thành công");
                                reloadFormDegree();
                                getAccountDetail();
                            },
                            error: function (xhr, status, error) {
                                alert('Failed to update information');
                                console.error("Error:", error);
                            },
                        });
                    }
                })

                $('#form_lang').validate({
                    rules: {
                        langue_type: { required: true },
                        langue_name: { required: true },
                        langue_result: { required: true }
                    },
                    messages: {
                        langue_type: {
                            required: "Vui lòng chọn ngôn ngữ"
                        },
                        langue_name: {
                            required: "Vui lòng nhập tên chứng chỉ"
                        },
                        langue_result: {
                            required: "Vui lòng điền kết quả"
                        }
                    },
                    errorPlacement: function (error, element) {
                        if (element.hasClass("select2-hidden-accessible")) {
                            error.insertAfter(element.next('.select2-container'));
                        }
                        else {
                            error.insertAfter(element);
                        }
                    },
                    submitHandler: function (form) {
                        var language = $('#langue_type').val();
                        var certificate = $('#langue_name').val();
                        var result = $('#langue_result').val();
                        var type = $('#type_langue').val();
                        var formData = new FormData();
                        formData.append('language', language);
                        formData.append('certificate', certificate);
                        formData.append('result', result);
                        formData.append('type', type);
                        formData.append('id_ngoaingu', $('#id_langue').val());
                        $.ajax({
                            url: URL_API_CANDI + "/CompleteProfileUV_NNTH",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Cập nhật thông tin thành công");
                                reloadFormLangue();
                                getAccountDetail();
                            },
                            error: function (xhr, status, error) {
                                alert('Failed to update information');
                                console.error("Error:", error);
                            },
                        });
                    }
                })

                $('#work_exp').validate({
                    rules: {
                        exp_titpos: { required: true },
                        exp_comp: { required: true },
                        exp_from: { required: true },
                        exp_to: { required: true, greaterThan: "#exp_from" },
                        exp_des: { required: true },
                    },
                    messages: {
                        exp_titpos: {
                            required: "Vui lòng điền vị trí công việc"
                        },
                        exp_comp: {
                            required: "Vui lòng điền tên công ty"
                        },
                        exp_from: {
                            required: "Vui lòng chọn thời gian bắt đầu"
                        },
                        exp_to: {
                            required: "Vui lòng chọn thời gian kết thúc",
                            greaterThan: "Thời gian bắt đầu phải nhỏ hơn thời gian kết thúc"
                        },
                        exp_des: {
                            required: "Vui lòng điền mô tả công việc"
                        }
                    },
                    errorPlacement: function (error, element) {
                        if (element.hasClass("select2-hidden-accessible")) {
                            error.insertAfter(element.next('.select2-container'));
                        }
                        else {
                            error.insertAfter(element);
                        }
                    },
                    submitHandler: function (form) {
                        var use_chucdanh = $('#exp_titpos').val();
                        var use_cty_lamviec = $('#exp_comp').val();
                        var tg_batdau = $('#exp_from').val();
                        var tg_ketthuc = $('#exp_to').val();
                        var them_thongtin = $('#exp_des').val();
                        var type = $('#type_exp').val();
                        var formData = new FormData();
                        formData.append('use_chucdanh', use_chucdanh);
                        formData.append('use_cty_lamviec', use_cty_lamviec);
                        formData.append('tg_batdau', tg_batdau);
                        formData.append('tg_ketthuc', tg_ketthuc);
                        formData.append('them_thongtin', them_thongtin);
                        formData.append('type', type);
                        formData.append('idkn', $('#id_exp').val());
                        $.ajax({
                            url: URL_API_CANDI + "/CompleteProfileUV_KNLV",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Cập nhật thông tin thành công");
                                reloadFormExp();
                                getAccountDetail();
                            },
                            error: function (xhr, status, error) {
                                alert('Failed to update information');
                                console.error("Error:", error);
                            },
                        });
                    }
                })

                $('#form_refer').validate({
                    rules: {
                        reper_name: { required: true },
                        reper_phone: { required: true, validPhoneNumber: true },
                        reper_email: { required: true, validEmail: true },
                        reper_comp: { required: true },
                        reper_typos: { required: true },
                    },
                    messages: {
                        reper_name: {
                            required: "Vui lòng điền tên người tham chiếu"
                        },
                        reper_phone: {
                            required: "Vui lòng điền số điện thoại người tham chiếu"
                        },
                        reper_email: {
                            required: "Vui lòng điền địa chỉ email người tham chiếu"
                        },
                        reper_comp: {
                            required: "Vui lòng điền tên công ty"
                        },
                        reper_typos: {
                            required: "Vui lòng điền chức vụ người tham chiếu"
                        }
                    },
                    errorPlacement: function (error, element) {
                        if (element.hasClass("select2-hidden-accessible")) {
                            error.insertAfter(element.next('.select2-container'));
                        }
                        else {
                            error.insertAfter(element);
                        }
                    },
                    submitHandler: function (form) {
                        var ho_ten = $('#reper_name').val();
                        var sdt = $('#reper_phone').val();
                        var email = $('#reper_email').val();
                        var company = $('#reper_comp').val();
                        var position = $('#reper_typos').val();

                        var type = $('#type_reper').val();
                        var formData = new FormData();
                        formData.append('ho_ten', ho_ten);
                        formData.append('sdt', sdt);
                        formData.append('email', email);
                        formData.append('company', company);
                        formData.append('position', position);
                        formData.append('type', type);
                        formData.append('idtc', $('#id_reper').val());
                        $.ajax({
                            url: URL_API_CANDI + "/CompleteProfileUV_NTC",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Cập nhật thông tin thành công");
                                reloadFormReper();
                                getAccountDetail();
                            },
                            error: function (xhr, status, error) {
                                alert('Failed to update information');
                                console.error("Error:", error);
                            },
                        });
                    }
                })

                function getSelectedValuesById(selectId) {
                    var selectedValues = [];

                    var containerSelector = '#' + selectId + ' + .custom-select-wrapper .selected-options-container';

                    $(containerSelector + ' .selected-option').each(function () {
                        var value = $(this).data('value');
                        selectedValues.push(value);
                    });

                    return selectedValues;
                }
                function removeSelectedValuesById(selectId) {

                    var containerSelector = '#' + selectId + ' + .custom-select-wrapper .selected-options-container';

                    $(containerSelector + ' .selected-option').remove();
                }

                $('.create-degree').click(function () {
                    $('.create-degree').hide();
                    $('.cnt-form-degree').show();
                    $('#update-degree').show();
                    $('#typedegree').val(1);
                    $('#iddegree').val('');
                })
                $('.create-langue').click(function () {
                    $('.create-langue').hide();
                    $('.cnt-form-lang').show();
                    $('#langue_type').val('');
                    $('#langue_type').trigger('change');
                    $('#update-langue').show();
                    $('#type_langue').val(1);
                })
                $('.create-exp').click(function () {
                    $('.create-exp').hide();
                    $('.cnt-form-exp').show();
                    $('#update-exp').show();
                    $('#type_exp').val(1);
                })
                $('.create-reper').click(function () {
                    $('.create-reper').hide();
                    $('.cnt-form-reper').show();
                    $('#update-reper').show();
                    $('#type_reper').val(1);
                })
                $('.cnt-remove-degree').click(function () {
                    reloadFormDegree();
                })
                $('.cnt-remove-exp').click(function () {
                    reloadFormExp();
                })
                function reloadFormDegree() {
                    $('.cnt-form-degree').find('input').val('');
                    $('.cnt-form-degree').find('textarea').val('');
                    $('.cnt-form-degree').find('select').val('');
                    $('.cnt-form-degree').hide();
                    $('#update-degree').hide();
                    $('.create-degree').show();
                }
                function reloadFormLangue() {
                    $('.cnt-form-lang').find('input').val('');
                    $('.cnt-form-lang').find('select').val('');
                    $('.cnt-form-lang').hide();
                    $('#update-langue').hide();
                    $('.create-langue').show();
                }
                function reloadFormExp() {
                    $('.cnt-form-exp').find('input').val('');
                    $('.cnt-form-exp').hide();
                    $('#update-exp').hide();
                    $('.create-exp').show();
                }
                function reloadFormReper() {
                    $('.cnt-form-reper').find('input').val('');
                    $('.cnt-form-reper').hide();
                    $('#update-reper').hide();
                    $('.create-reper').show();
                }
                $(document).on('click', '.edit-degree', function () {
                    $('.create-degree').hide();
                    var degreeId = $(this).data('edit');
                    console.log(datadegree);
                    var selectedDegree = datadegree.find(function (degree) {
                        return degree.id_hocvan === degreeId;
                    });
                    $('#degree_name').val(selectedDegree.bang_cap ? selectedDegree.bang_cap : '');
                    $('#degree_school').val(selectedDegree.truong_hoc ? selectedDegree.truong_hoc : '');
                    $('#degree_start').val(selectedDegree.tg_batdau && selectedDegree.tg_batdau != 0 ? convertTimeToInput(selectedDegree.tg_batdau) : '');
                    $('#degree_end').val(selectedDegree.tg_ketthuc && selectedDegree.tg_batdau != 0 ? convertTimeToInput(selectedDegree.tg_ketthuc) : '');
                    $('#degree_major').val(selectedDegree.chuyen_nganh ? selectedDegree.chuyen_nganh : '');
                    $('#degree_cfc').val(selectedDegree.xep_loai ? selectedDegree.xep_loai : '');
                    $('#degree_cfc').trigger('change');
                    $('#degree_more').val(selectedDegree.thongtin_bosung ? selectedDegree.thongtin_bosung : '');
                    $('.cnt-form-degree').show();
                    $('#update-degree').show();
                    $('#typedegree').val(2);
                    $('#iddegree').val(selectedDegree.id_hocvan);
                });
                $(document).on('click', '.rm-degree', function () {
                    if (confirm("Xác nhận xóa bằng cấp")) {
                        var degreeId = $(this).data('delete');
                        var formData = new FormData();
                        formData.append('id', degreeId);
                        $.ajax({
                            url: "http://localhost:3052/api/topcv1s/candidate/DeleteProfile_BangCap",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Xóa thành công");
                                reloadFormDegree();
                                getAccountDetail();
                            },
                            error: function (xhr, status, error) {
                                alert('Cập nhật thông tin thất bại');
                                console.error("Error:", error);
                            },
                        });
                    }
                });


                $(document).on('click', '.edit-exp', function () {
                    $('.create-exp').hide();
                    var exp_id = $(this).data('edit');
                    var data = dataexp.find(function (item) {
                        return item.id_kinhnghiem === exp_id;
                    });
                    $('#exp_titpos').val(data.use_chucdanh ? data.use_chucdanh : '');
                    $('#exp_comp').val(data.use_cty_lamviec ? data.use_cty_lamviec : '');
                    $('#exp_from').val(data.tg_batdau && data.tg_batdau != 0 ? convertTimeToInput(data.tg_batdau) : '');
                    console.log(convertTimeToInput(data.tg_batdau));
                    $('#exp_to').val(data.tg_ketthuc && data.tg_batdau != 0 ? convertTimeToInput(data.tg_ketthuc) : '');
                    $('#exp_des').val(data.them_thongtin ? data.them_thongtin : '');

                    $('.cnt-form-exp').show();
                    $('#update-exp').show();
                    $('#type_exp').val(2);
                    $('#id_exp').val(data.id_kinhnghiem);
                });
                $(document).on('click', '.rm-exp', function () {
                    if (confirm("Xác nhận xóa kinh nghiệm làm việc")) {
                        var exp_id = $(this).data('delete');
                        var formData = new FormData();
                        formData.append('id', exp_id);
                        $.ajax({
                            url: "http://localhost:3052/api/topcv1s/candidate/DeleteProfile_KinhNghiem",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Xóa thành công");
                                reloadFormExp();
                                getAccountDetail();
                            },
                            error: function (xhr, status, error) {
                                alert('Cập nhật thông tin thất bại');
                                console.error("Error:", error);
                            },
                        });
                    }
                });
                $(document).on('click', '.edit-langue', function () {
                    $('.create-langue').hide();
                    var lange_id = $(this).data('edit');
                    var itemLang = datalangue.find(function (item) {
                        return item.id_ngoaingu === lange_id;
                    });
                    $('#langue_name').val(itemLang.chung_chi ? itemLang.chung_chi : '');
                    $('#langue_result').val(itemLang.ket_qua ? itemLang.ket_qua : '');
                    $('#langue_type').val(itemLang.id_ngonngu ? itemLang.id_ngonngu : '');
                    $('#langue_type').trigger('change');

                    $('.cnt-form-lang').show();
                    $('#update-langue').show();
                    $('#type_langue').val(2);
                    $('#id_langue').val(itemLang.id_ngoaingu);
                });
                $(document).on('click', '.rm-langue', function () {
                    if (confirm("Xác nhận xóa ngôn ngữ")) {
                        var langeId = $(this).data('delete');
                        var formData = new FormData();
                        formData.append('id', langeId);
                        $.ajax({
                            url: "http://localhost:3052/api/topcv1s/candidate/DeleteProfile_NgoaiNgu",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Xóa thành công");
                                reloadFormExp();
                                getAccountDetail();
                            },
                            error: function (xhr, status, error) {
                                alert('Cập nhật thông tin thất bại');
                                console.error("Error:", error);
                            },
                        });
                    }
                });
                $('.cnt-remove-langue').click(function () {
                    reloadFormLangue();
                })
                $('.cnt-remove-reper').click(function () {
                    reloadFormReper();
                })
                $(document).on('click', '.edit-reper', function () {
                    $('.create-reper').hide();
                    var reper_id = $(this).data('edit');
                    var itemrefer = datarefer.find(function (item) {
                        return item.id_thamchieu === reper_id;
                    });
                    $('#reper_name').val(itemrefer.ho_ten ? itemrefer.ho_ten : '');
                    $('#reper_email').val(itemrefer.email ? itemrefer.email : '');
                    $('#reper_typos').val(itemrefer.chuc_vu ? itemrefer.chuc_vu : '');
                    $('#reper_phone').val(itemrefer.sdt ? itemrefer.sdt : '');
                    $('#reper_comp').val(itemrefer.company ? itemrefer.company : '');

                    $('.cnt-form-reper').show();
                    $('#update-reper').show();
                    $('#type_reper').val(2);
                    $('#id_reper').val(itemLang.id_thamchieu);
                });
                $(document).on('click', '.rm-reper', function () {
                    if (confirm("Xác nhận xóa người tham chiếu")) {
                        var reper_id = $(this).data('delete');
                        var formData = new FormData();
                        formData.append('id', reper_id);
                        $.ajax({
                            url: "http://localhost:3052/api/topcv1s/candidate/DeleteProfile_ThamChieu",
                            type: "POST",
                            headers: {
                                "Authorization": "Bearer " + getCookie('accessToken')
                            },
                            data: formData,
                            processData: false,
                            contentType: false,
                            success: function (response) {
                                console.log(response);
                                alert(response.data.message || "Xóa thành công");
                                reloadFormReper();
                                getAccountDetail();
                            },
                            error: function (xhr, status, error) {
                                alert('Cập nhật thông tin thất bại');
                                console.error("Error:", error);
                            },
                        });
                    }
                });


            })
        </script>
        
        
</body>

</html>